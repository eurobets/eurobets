import {
    CLEAR_AUTHREG_DATA,
    MANUAL_LOGIN_USER,
    LOGIN_SUCCESS_USER,
    LOGIN_ERROR_USER,
    SIGNUP_USER,
    SIGNUP_SUCCESS_USER,
    SIGNUP_ERROR_USER,
    LOGOUT_USER,
    LOGOUT_SUCCESS_USER,
    LOGOUT_ERROR_USER } from 'constants/index';

export default function user(state={
    isLogin: true,
    message: '',
    isWaiting: false,
    authenticated: false }, action={}) {
    switch (action.type) {
        case CLEAR_AUTHREG_DATA:
            return Object.assign({}, state, {
                message: ''
            });
        case MANUAL_LOGIN_USER:
            return Object.assign({}, state, {
                isWaiting: true,
                message: ''
            });
        case LOGIN_SUCCESS_USER:
            return Object.assign({}, state, {
                isWaiting: false,
                authenticated: true,
                message: '',
                ...action.user
            });
        case LOGIN_ERROR_USER:
            return Object.assign({}, state, {
                isWaiting: false,
                authenticated: false,
                message: action.message
            });
        case SIGNUP_USER:
            return Object.assign({}, state, {
                isWaiting: true,
                message: ''
            });
        case SIGNUP_SUCCESS_USER:
            return Object.assign({}, state, {
                isWaiting: false,
                authenticated: true,
                ...action.user
            });
        case SIGNUP_ERROR_USER:
            return Object.assign({}, state, {
                isWaiting: false,
                authenticated: false,
                message: action.message
            });
        case LOGOUT_USER:
            return Object.assign({}, state, {
                isWaiting: true,
                message: ''
            });
        case LOGOUT_SUCCESS_USER:
            return Object.assign({}, state, {
                isWaiting: false,
                authenticated: false
            });
        case LOGOUT_ERROR_USER:
            return Object.assign({}, state, {
                isWaiting: false,
                authenticated: true,
                isLogin: true
            });
        default:
            return state;
    }
}
